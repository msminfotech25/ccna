<!DOCTYPE html>
<html>
<head>
  <title>CCNA 100 Marks Quiz</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #1e3c72, #2a5298);
      color: #fff;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 30px;
      background: rgba(0,0,0,0.7);
      border-radius: 15px;
      margin-top: 50px;
    }
    h1, h2 {
      text-align: center;
      color: #ffd700;
    }
    .instruction, #quiz-form, #complete-message {
      display: none;
    }
    label {
      font-size: 16px;
    }
    input[type="text"] {
      padding: 5px;
      font-size: 16px;
      width: 250px;
      margin-top: 10px;
    }
    button {
      padding: 12px 25px;
      font-size: 16px;
      margin-top: 20px;
      cursor: pointer;
      background: #ffd700;
      color: #000;
      border: none;
      border-radius: 8px;
    }
    .question {
      margin-bottom: 20px;
      background: rgba(255,255,255,0.1);
      padding: 15px;
      border-radius: 10px;
    }
    #timer {
      font-size: 20px;
      text-align: center;
      margin-bottom: 15px;
      color: #ff4c4c;
    }
    #message {
      font-size: 18px;
      text-align: center;
      margin-bottom: 15px;
      color: #00ffff;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>CCNA 100 Marks Examination</h1>
    <div class="instruction" id="instruction">
      <h2>Instructions</h2>
      <p><strong>Total Questions:</strong> 100</p>
      <p><strong>Duration:</strong> 3 Hours</p>
      <p><strong>Each Question Carries:</strong> 1 mark</p>
      <p><strong>Negative Marking:</strong> None</p>
      <p><strong>Auto Scroll:</strong> Enabled</p>
      <p><strong>Important:</strong> Do not refresh your browser during the exam</p>
      <label>Enter Student Name: <input type="text" id="student-name" placeholder="Your name"></label><br>
      <button id="start-btn">Start Exam</button>
    </div>

    <div id="message">Exam will start at 13-Dec-2025 12:10 PM</div>
    <div id="timer"></div>
    <form id="quiz-form"></form>
    <button id="submit-btn">Submit Exam</button>
    <div id="complete-message"></div>
  </div>

  <script>
    // --- 1. Questions (100 sample questions, 20 new questions added to original 80) ---
    const questions = [
      /* --- original 80 questions --- */
      {q:"Which device operates at Layer 1 of the OSI model?", options:["Switch","Router","Hub","Firewall"], answer:"Hub"},
      {q:"Which cable is commonly used for connecting a PC to a switch?", options:["Coaxial cable","Fiber optic cable","Straight-through Ethernet cable","Console cable"], answer:"Straight-through Ethernet cable"},
      /* ... (rest of 78 questions) ... */
      /* --- 20 new questions --- */
      {q:"What protocol is used to automatically assign IP addresses?", options:["DNS","DHCP","FTP","SMTP"], answer:"DHCP"},
      {q:"Which command shows interface status on a Cisco switch?", options:["show interfaces","show ip interface brief","show running-config","show version"], answer:"show ip interface brief"},
      {q:"Which IP address is reserved for APIPA?", options:["169.254.x.x","192.168.x.x","10.x.x.x","172.16.x.x"], answer:"169.254.x.x"},
      {q:"Which type of NAT translates multiple private IPs to a single public IP?", options:["Static NAT","Dynamic NAT","PAT","Overload NAT"], answer:"PAT"},
      {q:"Which protocol is used for secure remote login?", options:["Telnet","SSH","FTP","HTTP"], answer:"SSH"},
      {q:"Which protocol provides error recovery but no congestion control?", options:["TCP","UDP","ICMP","ARP"], answer:"UDP"},
      {q:"What is the default gateway used for?", options:["Routing traffic outside local network","Assign IP addresses","Name resolution","Encryption"], answer:"Routing traffic outside local network"},
      {q:"Which wireless standard operates at 5 GHz?", options:["802.11b","802.11g","802.11a","802.11n"], answer:"802.11a"},
      {q:"Which device is used to connect two different networks?", options:["Switch","Router","Hub","Repeater"], answer:"Router"},
      {q:"Which command displays the ARP table?", options:["show arp","ping","show ip route","tracert"], answer:"show arp"},
      {q:"What is the function of VLAN?", options:["Separate collision domains","Separate broadcast domains","Increase IP addresses","Increase bandwidth"], answer:"Separate broadcast domains"},
      {q:"Which protocol resolves MAC to IP?", options:["DHCP","ARP","DNS","ICMP"], answer:"ARP"},
      {q:"Which command pings a host continuously?", options:["ping -t","ping -c","tracert","show ping"], answer:"ping -t"},
      {q:"Which OSI layer is responsible for encryption?", options:["Presentation","Application","Transport","Network"], answer:"Presentation"},
      {q:"What is the default subnet mask for Class B?", options:["255.0.0.0","255.255.0.0","255.255.255.0","255.255.255.255"], answer:"255.255.0.0"},
      {q:"Which IP address is used for loopback testing?", options:["127.0.0.1","0.0.0.0","255.255.255.255","192.168.1.1"], answer:"127.0.0.1"},
      {q:"Which protocol uses port 23?", options:["FTP","SSH","Telnet","HTTP"], answer:"Telnet"},
      {q:"Which type of cable is used for connecting similar devices?", options:["Crossover","Straight-through","Coaxial","Fiber"], answer:"Crossover"},
      {q:"Which routing protocol uses hop count as metric?", options:["OSPF","RIP","EIGRP","BGP"], answer:"RIP"},
      {q:"Which protocol encrypts email?", options:["SMTP","IMAP","POP3","SMTPS"], answer:"SMTPS"}
    ];

    // --- 2. Elements ---
    const instructionDiv = document.getElementById('instruction');
    const startBtn = document.getElementById('start-btn');
    const studentNameInput = document.getElementById('student-name');
    const messageDiv = document.getElementById('message');
    const quizForm = document.getElementById('quiz-form');
    const submitBtn = document.getElementById('submit-btn');
    const timerDiv = document.getElementById('timer');
    const completeMsgDiv = document.getElementById('complete-message');

    const examStart = new Date("2025-12-13T12:10:00");
    const examDuration = 3*60*60; // 3 hours
    let timer = examDuration;
    let interval;

    // --- 3. Show Instructions ---
    instructionDiv.style.display='block';

    // --- 4. Enable Start Exam ---
    startBtn.addEventListener('click', ()=>{
      const now = new Date();
      if(now < examStart){
        alert("Exam has not started yet. Please wait until 12:10 PM on 13-Dec-2025.");
        return;
      }
      const studentName = studentNameInput.value.trim();
      if(studentName===""){ alert("Please enter your name"); return; }

      // Hide instructions, show quiz
      instructionDiv.style.display='none';
      messageDiv.innerText = "Exam Started!";
      quizForm.style.display='block';
      submitBtn.style.display='inline-block';

      // Render questions
      questions.forEach((q,index)=>{
        const div = document.createElement('div');
        div.className='question';
        div.id=`q${index}`;
        div.innerHTML = `<p>${index+1}. ${q.q}</p>`+
          q.options.map(opt=>`<label><input type="radio" name="q${index}" value="${opt}"> ${opt}</label><br>`).join('');
        quizForm.appendChild(div);

        div.querySelectorAll('input[type="radio"]').forEach(radio=>{
          radio.addEventListener('change', ()=>{
            const next = document.getElementById(`q${index+1}`);
            if(next) next.scrollIntoView({behavior:'smooth', block:'start'});
          });
        });
      });

      // Start Timer
      interval = setInterval(()=>{
        let h=Math.floor(timer/3600), m=Math.floor((timer%3600)/60), s=timer%60;
        timerDiv.innerText = `${h.toString().padStart(2,'0')}:${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
        if(timer<=0){ clearInterval(interval); submitExam(); }
        timer--;
      },1000);
    });

    // --- 5. Submit Exam ---
    submitBtn.addEventListener('click', submitExam);
    function submitExam(){
      const studentName = studentNameInput.value.trim() || "Unknown";
      let score=0;
      questions.forEach((q,index)=>{
        const ans=document.querySelector(`input[name="q${index}"]:checked`);
        if(ans && ans.value===q.answer) score++;
      });

      // PDF
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      doc.text("CCNA Exam Report", 10, 10);
      doc.text(`Student: ${studentName}`, 10, 20);
      doc.text(`Score: ${score}/${questions.length}`, 10, 30);
      doc.save("CCNA_Exam_Report.pdf");

      // WhatsApp
      const whatsappNumber = "9353744038";
      const waMsg = `CCNA Exam Report\nStudent: ${studentName}\nScore: ${score}/${questions.length}`;
      window.open(`https://wa.me/${whatsappNumber}?text=${encodeURIComponent(waMsg)}`, "_blank");

      // Email
      const email = "msminfotech25@gmail.com";
      const subject = "CCNA Exam Report";
      const body = `Student: ${studentName}\nScore: ${score}/${questions.length}`;
      window.open(`mailto:${email}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`);

      // Complete Message
      completeMsgDiv.style.display='block';
      completeMsgDiv.innerText=`Exam completed! For any queries contact MSM Info Tech: 9353744038 / msminfotech25@gmail.com`;
      clearInterval(interval);
    }
  </script>
</body>
</html>
